import{_ as l,c as i,e,a,b as n,d as t,o,r as c}from"./app-B42q5VFX.js";const r={},u={href:"https://release.infinilabs.com/analysis-ik/stable/",target:"_blank",rel:"noopener noreferrer"},d={href:"https://www.elastic.co/downloads/kibana",target:"_blank",rel:"noopener noreferrer"};function v(k,s){const p=c("ExternalLinkIcon");return o(),i("div",null,[s[6]||(s[6]=e(`<h1 id="elasticsearch学习笔记" tabindex="-1"><a class="header-anchor" href="#elasticsearch学习笔记"><span>ElasticSearch学习笔记</span></a></h1><h2 id="_1-基本配置" tabindex="-1"><a class="header-anchor" href="#_1-基本配置"><span>1. 基本配置</span></a></h2><h3 id="_1-1-创建用户" tabindex="-1"><a class="header-anchor" href="#_1-1-创建用户"><span>1.1 创建用户</span></a></h3><p>ES不能在root用户下运行，所以我们首先需要创建用户用于运行ES服务：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">adduser es</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后设置用户信息完成用户创建。</p><p>这里可以将用户加入 <code>sudo</code> 用户组，防止某些配置无法进行：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">usermod</span> <span class="token parameter variable">-aG</span> <span class="token function">sudo</span> es</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后切换到该用户进行以下操作，以防目录或文件的所有权导致某些操作无法进行：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">su</span> es</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_1-2-下载es相关文件" tabindex="-1"><a class="header-anchor" href="#_1-2-下载es相关文件"><span>1.2 下载ES相关文件</span></a></h3><p>在合适的目录下下载ES的压缩包并解压：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">wget</span> https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-8.15.1-linux-x86_64.tar.gz</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>当然，考虑到服务器的网络问题，下载该文件可能需要比较长的时间，所以可以在本地下载好后上传到服务器上，速度会快很多。</p><p>然后解压该文件：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">tar</span> <span class="token parameter variable">-xvf</span> elasticsearch-8.15.1-linux-x86_64.tar.gz</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>进入解压后的文件目录，有如下目录或文件：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">bin  config  jdk  lib  LICENSE.txt  logs  modules  NOTICE.txt  plugins  README.asciidoc</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_1-3-配置信息" tabindex="-1"><a class="header-anchor" href="#_1-3-配置信息"><span>1.3 配置信息</span></a></h3><p>进入用户主目录，设置用户级别环境变量：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">vim</span> .bash_profile</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>写入如下配置：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable">ES_JAVA_HOME</span><span class="token operator">=</span>/home/es/es/elasticsearch-8.15.1/jdk</span>
<span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable">ES_HOME</span><span class="token operator">=</span>/home/es/es/elasticsearch-8.15.1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>保存并退出后执行如下命令使配置生效：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token builtin class-name">source</span> .bash_profile</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>接下来进入ES安装目录，编辑配置文件：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">vim</span> config/elasticsearch.yml</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>具体内容如下：</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="line"><span class="token comment"># 配置节点对外提供服务的地址以及集群内通信地址</span></span>
<span class="line"><span class="token comment"># 配置为 0.0.0.0 开启远程访问支持</span></span>
<span class="line"><span class="token key atrule">network.host</span><span class="token punctuation">:</span> 0.0.0.0</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 指定节点为单节点可以绕过引导检查</span></span>
<span class="line"><span class="token comment"># 初学者建议设置为此开发模式</span></span>
<span class="line"><span class="token key atrule">discovery.type</span><span class="token punctuation">:</span> single<span class="token punctuation">-</span>node</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 初学者建议关闭安全认证</span></span>
<span class="line"><span class="token key atrule">xpack.security.enabled</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-4-启动es并测试访问" tabindex="-1"><a class="header-anchor" href="#_1-4-启动es并测试访问"><span>1.4 启动ES并测试访问</span></a></h3><p>进入ES的安装目录，在后台启动ES服务：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">bin/elasticsearch <span class="token parameter variable">-d</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>服务启动后，打开浏览器，访问服务器所在地址的 <code>9200</code> 端口，如果服务正常运行可以看到如下信息：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;iZ2ze5dxjax3b5pyet0agkZ&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;cluster_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;elasticsearch&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;cluster_uuid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;qhrjVDuBQ-ChmEFI2pPrhQ&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">&quot;number&quot;</span><span class="token operator">:</span> <span class="token string">&quot;8.15.1&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;build_flavor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;build_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tar&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;build_hash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;253e8544a65ad44581194068936f2a5d57c2c051&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;build_date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2024-09-02T22:04:47.310170297Z&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;build_snapshot&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;lucene_version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9.11.1&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;minimum_wire_compatibility_version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7.17.0&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;minimum_index_compatibility_version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7.0.0&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;tagline&quot;</span><span class="token operator">:</span> <span class="token string">&quot;You Know, for Search&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-5-浏览器相关插件" tabindex="-1"><a class="header-anchor" href="#_1-5-浏览器相关插件"><span>1.5 浏览器相关插件</span></a></h3><p>可以在Chrome浏览器中安装一些插件以便于监控ES服务状态：</p><ul><li>Multi Elasticsearch Heads</li></ul><p>还有其他类似的监控插件，这里不再一一列举。</p><h3 id="_1-6-es相关插件" tabindex="-1"><a class="header-anchor" href="#_1-6-es相关插件"><span>1.6 ES相关插件</span></a></h3><p>对于中文搜索引擎，最重要的就是中文分词器插件，下面将介绍如何安装分词器插件。</p><p>首先是一些关于ES插件管理的命令：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token comment"># 查看已安装插件</span></span>
<span class="line">bin/elasticsearch-plugin list</span>
<span class="line"><span class="token comment"># 安装插件</span></span>
<span class="line">bin/elasticsearch-plugin <span class="token function">install</span> plugin-name</span>
<span class="line"><span class="token comment"># 移除插件</span></span>
<span class="line">bin/elasticsearch-plugin remove plugin-name</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后安装中文分词插件：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">bin/elasticsearch-plugin <span class="token function">install</span> analysis-icu</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后重启ES服务使插件生效。</p><p>可以在前面的浏览器插件中测试分词器的工作效果，发送 <code>_analyze</code> 的 <code>POST</code> 请求：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;analyzer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;icu_analyzer&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;北京航空航天大学&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后会得到如下的分词结果：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;tokens&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;北京&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;start_offset&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;end_offset&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;IDEOGRAPHIC&gt;&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;position&quot;</span><span class="token operator">:</span> <span class="token number">0</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;航空&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;start_offset&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;end_offset&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;IDEOGRAPHIC&gt;&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;position&quot;</span><span class="token operator">:</span> <span class="token number">1</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;航天&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;start_offset&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;end_offset&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;IDEOGRAPHIC&gt;&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;position&quot;</span><span class="token operator">:</span> <span class="token number">2</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;大学&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;start_offset&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;end_offset&quot;</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;IDEOGRAPHIC&gt;&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;position&quot;</span><span class="token operator">:</span> <span class="token number">3</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,49)),a("p",null,[s[1]||(s[1]=n("不过，这个分词的结果可能不能很好地满足需求，所以我们还需要安装另一个")),a("a",u,[s[0]||(s[0]=n("IK分词器")),t(p)]),s[2]||(s[2]=n("，务必确保版本对应。"))]),s[7]||(s[7]=e(`<p>将下载好的分词器上传到服务器并解压到插件目录。</p><p>当前 <code>plugins</code> 目录下应该有两个插件：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">analysis-icu  elasticsearch-analysis-ik-8.15.1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>目录结构如下：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">.</span>
<span class="line">├── analysis-icu</span>
<span class="line">│   ├── analysis-icu-8.15.1.jar</span>
<span class="line">│   ├── icu4j-68.2.jar</span>
<span class="line">│   ├── lucene-analysis-icu-9.11.1.jar</span>
<span class="line">│   └── plugin-descriptor.properties</span>
<span class="line">└── elasticsearch-analysis-ik-8.15.1</span>
<span class="line">    ├── commons-codec-1.11.jar</span>
<span class="line">    ├── commons-logging-1.2.jar</span>
<span class="line">    ├── config</span>
<span class="line">    │   ├── extra_main.dic</span>
<span class="line">    │   ├── extra_single_word.dic</span>
<span class="line">    │   ├── extra_single_word_full.dic</span>
<span class="line">    │   ├── extra_single_word_low_freq.dic</span>
<span class="line">    │   ├── extra_stopword.dic</span>
<span class="line">    │   ├── IKAnalyzer.cfg.xml</span>
<span class="line">    │   ├── main.dic</span>
<span class="line">    │   ├── preposition.dic</span>
<span class="line">    │   ├── quantifier.dic</span>
<span class="line">    │   ├── stopword.dic</span>
<span class="line">    │   ├── suffix.dic</span>
<span class="line">    │   └── surname.dic</span>
<span class="line">    ├── elasticsearch-analysis-ik-8.15.1.jar</span>
<span class="line">    ├── httpclient-4.5.13.jar</span>
<span class="line">    ├── httpcore-4.4.13.jar</span>
<span class="line">    ├── ik-core-1.0.jar</span>
<span class="line">    ├── plugin-descriptor.properties</span>
<span class="line">    └── plugin-security.policy</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>重启ES服务使IK分词器插件生效。</p><p>然后我们再次使用浏览器测试IK分词器的分词效果：</p><p><code>ik_smart</code> 会对文本做最粗粒度的拆分：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;analyzer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ik_smart&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;北京航空航天大学&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>ik_max_word</code> 会对文本做最细粒度的拆分：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;analyzer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ik_max_word&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;北京航空航天大学&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>第一种配置的返回结果如下：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;tokens&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;北京&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;start_offset&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;end_offset&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CN_WORD&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;position&quot;</span><span class="token operator">:</span> <span class="token number">0</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;航空航天&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;start_offset&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;end_offset&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CN_WORD&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;position&quot;</span><span class="token operator">:</span> <span class="token number">1</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;大学&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;start_offset&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;end_offset&quot;</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CN_WORD&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;position&quot;</span><span class="token operator">:</span> <span class="token number">2</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>第二种配置的返回结果如下：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;tokens&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;北京&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;start_offset&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;end_offset&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CN_WORD&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;position&quot;</span><span class="token operator">:</span> <span class="token number">0</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;航空航天&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;start_offset&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;end_offset&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CN_WORD&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;position&quot;</span><span class="token operator">:</span> <span class="token number">1</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;航空&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;start_offset&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;end_offset&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CN_WORD&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;position&quot;</span><span class="token operator">:</span> <span class="token number">2</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;空航&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;start_offset&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;end_offset&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CN_WORD&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;position&quot;</span><span class="token operator">:</span> <span class="token number">3</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;航天&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;start_offset&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;end_offset&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CN_WORD&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;position&quot;</span><span class="token operator">:</span> <span class="token number">4</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;天大&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;start_offset&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;end_offset&quot;</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CN_WORD&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;position&quot;</span><span class="token operator">:</span> <span class="token number">5</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;大学&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;start_offset&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;end_offset&quot;</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CN_WORD&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;position&quot;</span><span class="token operator">:</span> <span class="token number">6</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-基本操作测试" tabindex="-1"><a class="header-anchor" href="#_2-基本操作测试"><span>2. 基本操作测试</span></a></h2><p>ES的基本操作有创建索引、创建映射、插入文档、高亮查询、删除索引等，使用这些操作就可以搭建一个最基本的搜索引擎了。</p><p>可以使用postman发送一些请求来测试其工作效果。</p><h3 id="_2-1-创建索引" tabindex="-1"><a class="header-anchor" href="#_2-1-创建索引"><span>2.1 创建索引</span></a></h3><p>请求类型：<code>PUT</code></p><p>请求地址：<code>http://&lt;elasticsearch_host&gt;:&lt;port&gt;/&lt;index_name&gt;</code></p><p>可选请求体：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">&quot;number_of_shards&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;number_of_replicas&quot;</span><span class="token operator">:</span> <span class="token number">1</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>执行请求：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">PUT http://60.205.206.30:9200/index</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>无请求体，响应体为：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">       <span class="token property">&quot;acknowledged&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">       <span class="token property">&quot;shards_acknowledged&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">       <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h3 id="_2-2-创建映射" tabindex="-1"><a class="header-anchor" href="#_2-2-创建映射"><span>2.2 创建映射</span></a></h3><p>请求类型：<code>POST</code></p><p>请求地址：<code>http://&lt;elasticsearch_host&gt;:&lt;port&gt;/&lt;index_name&gt;/_mapping</code></p><p>请求体：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>执行请求：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">POST http://60.205.206.30:9200/index/_mapping</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>请求体：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">       <span class="token property">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">           <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">               <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span></span>
<span class="line">               <span class="token property">&quot;analyzer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ik_max_word&quot;</span><span class="token punctuation">,</span></span>
<span class="line">               <span class="token property">&quot;search_analyzer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ik_smart&quot;</span></span>
<span class="line">           <span class="token punctuation">}</span></span>
<span class="line">       <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>响应体：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">   <span class="token property">&quot;acknowledged&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h3 id="_2-3-插入文档" tabindex="-1"><a class="header-anchor" href="#_2-3-插入文档"><span>2.3 插入文档</span></a></h3><p>请求类型：<code>POST</code></p><p>请求地址：<code>http://&lt;elasticsearch_host&gt;:&lt;port&gt;/&lt;index_name&gt;/_create/&lt;id&gt;</code></p><p>请求体：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Content Content Content&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>执行请求：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">POST http://60.205.206.30:9200/index/_create/1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>请求体：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">       <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;北京航空航天大学&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>响应体：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">       <span class="token property">&quot;_index&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index&quot;</span><span class="token punctuation">,</span></span>
<span class="line">       <span class="token property">&quot;_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span></span>
<span class="line">       <span class="token property">&quot;_version&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">       <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token string">&quot;created&quot;</span><span class="token punctuation">,</span></span>
<span class="line">       <span class="token property">&quot;_shards&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">           <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">           <span class="token property">&quot;successful&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">           <span class="token property">&quot;failed&quot;</span><span class="token operator">:</span> <span class="token number">0</span></span>
<span class="line">       <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">       <span class="token property">&quot;_seq_no&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="line">       <span class="token property">&quot;_primary_term&quot;</span><span class="token operator">:</span> <span class="token number">1</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>执行请求：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">POST http://60.205.206.30:9200/index/_create/2</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>请求体：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">       <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;北京理工大学&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>响应体：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">       <span class="token property">&quot;_index&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index&quot;</span><span class="token punctuation">,</span></span>
<span class="line">       <span class="token property">&quot;_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span></span>
<span class="line">       <span class="token property">&quot;_version&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">       <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token string">&quot;created&quot;</span><span class="token punctuation">,</span></span>
<span class="line">       <span class="token property">&quot;_shards&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">           <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">           <span class="token property">&quot;successful&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">           <span class="token property">&quot;failed&quot;</span><span class="token operator">:</span> <span class="token number">0</span></span>
<span class="line">       <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">       <span class="token property">&quot;_seq_no&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">       <span class="token property">&quot;_primary_term&quot;</span><span class="token operator">:</span> <span class="token number">1</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>执行请求：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">POST http://60.205.206.30:9200/index/_create/3</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>请求体：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">       <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;北京大学&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>响应体：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">       <span class="token property">&quot;_index&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index&quot;</span><span class="token punctuation">,</span></span>
<span class="line">       <span class="token property">&quot;_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span></span>
<span class="line">       <span class="token property">&quot;_version&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">       <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token string">&quot;created&quot;</span><span class="token punctuation">,</span></span>
<span class="line">       <span class="token property">&quot;_shards&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">           <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">           <span class="token property">&quot;successful&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">           <span class="token property">&quot;failed&quot;</span><span class="token operator">:</span> <span class="token number">0</span></span>
<span class="line">       <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">       <span class="token property">&quot;_seq_no&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">       <span class="token property">&quot;_primary_term&quot;</span><span class="token operator">:</span> <span class="token number">1</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h3 id="_2-4-高亮查询" tabindex="-1"><a class="header-anchor" href="#_2-4-高亮查询"><span>2.4 高亮查询</span></a></h3><p>请求类型：<code>GET</code></p><p>请求地址：<code>http://&lt;elasticsearch_host&gt;:&lt;port&gt;/&lt;index_name&gt;/_search</code></p><p>请求体：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;query&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">&quot;match&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Query Content&quot;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;highlight&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">&quot;pre_tags&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">            <span class="token string">&quot;&lt;tag1&gt;&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token string">&quot;&lt;tag2&gt;&quot;</span></span>
<span class="line">        <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;post_tags&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">            <span class="token string">&quot;&lt;/tag1&gt;&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token string">&quot;&lt;/tag2&gt;&quot;</span></span>
<span class="line">        <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">                </span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>在上面的例子中，我们已经插入了三条数据，接下来我们对其进行查询操作。</p><p>执行请求：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">GET http://60.205.206.30:9200/index/_search</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>请求体：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">       <span class="token property">&quot;query&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">           <span class="token property">&quot;match&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">               <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;北航大学&quot;</span></span>
<span class="line">           <span class="token punctuation">}</span></span>
<span class="line">       <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">       <span class="token property">&quot;highlight&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">           <span class="token property">&quot;pre_tags&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">               <span class="token string">&quot;&lt;tag1&gt;&quot;</span><span class="token punctuation">,</span></span>
<span class="line">               <span class="token string">&quot;&lt;tag2&gt;&quot;</span></span>
<span class="line">           <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">           <span class="token property">&quot;post_tags&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">               <span class="token string">&quot;&lt;/tag1&gt;&quot;</span><span class="token punctuation">,</span></span>
<span class="line">               <span class="token string">&quot;&lt;/tag2&gt;&quot;</span></span>
<span class="line">           <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">           <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">               <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">               <span class="token punctuation">}</span></span>
<span class="line">           <span class="token punctuation">}</span></span>
<span class="line">       <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>响应体：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">       <span class="token property">&quot;took&quot;</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span></span>
<span class="line">       <span class="token property">&quot;timed_out&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span>
<span class="line">       <span class="token property">&quot;_shards&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">           <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">           <span class="token property">&quot;successful&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">           <span class="token property">&quot;skipped&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="line">           <span class="token property">&quot;failed&quot;</span><span class="token operator">:</span> <span class="token number">0</span></span>
<span class="line">       <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">       <span class="token property">&quot;hits&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">           <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">               <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">               <span class="token property">&quot;relation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eq&quot;</span></span>
<span class="line">           <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">           <span class="token property">&quot;max_score&quot;</span><span class="token operator">:</span> <span class="token number">0.1546153</span><span class="token punctuation">,</span></span>
<span class="line">           <span class="token property">&quot;hits&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">               <span class="token punctuation">{</span></span>
<span class="line">                   <span class="token property">&quot;_index&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index&quot;</span><span class="token punctuation">,</span></span>
<span class="line">                   <span class="token property">&quot;_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span></span>
<span class="line">                   <span class="token property">&quot;_score&quot;</span><span class="token operator">:</span> <span class="token number">0.1546153</span><span class="token punctuation">,</span></span>
<span class="line">                   <span class="token property">&quot;_source&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">                       <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;北京大学&quot;</span></span>
<span class="line">                   <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">                   <span class="token property">&quot;highlight&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">                       <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">                           <span class="token string">&quot;北京&lt;tag1&gt;大学&lt;/tag1&gt;&quot;</span></span>
<span class="line">                       <span class="token punctuation">]</span></span>
<span class="line">                   <span class="token punctuation">}</span></span>
<span class="line">               <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">               <span class="token punctuation">{</span></span>
<span class="line">                   <span class="token property">&quot;_index&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index&quot;</span><span class="token punctuation">,</span></span>
<span class="line">                   <span class="token property">&quot;_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span></span>
<span class="line">                   <span class="token property">&quot;_score&quot;</span><span class="token operator">:</span> <span class="token number">0.12500812</span><span class="token punctuation">,</span></span>
<span class="line">                   <span class="token property">&quot;_source&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">                       <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;北京航空航天大学&quot;</span></span>
<span class="line">                   <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">                   <span class="token property">&quot;highlight&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">                       <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">                           <span class="token string">&quot;北京航空航天&lt;tag1&gt;大学&lt;/tag1&gt;&quot;</span></span>
<span class="line">                       <span class="token punctuation">]</span></span>
<span class="line">                   <span class="token punctuation">}</span></span>
<span class="line">               <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">               <span class="token punctuation">{</span></span>
<span class="line">                   <span class="token property">&quot;_index&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index&quot;</span><span class="token punctuation">,</span></span>
<span class="line">                   <span class="token property">&quot;_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span></span>
<span class="line">                   <span class="token property">&quot;_score&quot;</span><span class="token operator">:</span> <span class="token number">0.12500812</span><span class="token punctuation">,</span></span>
<span class="line">                   <span class="token property">&quot;_source&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">                       <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;北京理工大学&quot;</span></span>
<span class="line">                   <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">                   <span class="token property">&quot;highlight&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">                       <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">                           <span class="token string">&quot;北京理工&lt;tag1&gt;大学&lt;/tag1&gt;&quot;</span></span>
<span class="line">                       <span class="token punctuation">]</span></span>
<span class="line">                   <span class="token punctuation">}</span></span>
<span class="line">               <span class="token punctuation">}</span></span>
<span class="line">           <span class="token punctuation">]</span></span>
<span class="line">       <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p>有意思的是，在这三条数据中，搜索北航大学，相关性最高的居然是北京大学！</p><h3 id="_2-5-删除索引" tabindex="-1"><a class="header-anchor" href="#_2-5-删除索引"><span>2.5 删除索引</span></a></h3><p>请求类型：<code>DELETE</code></p><p>请求地址：<code>http://&lt;elasticsearch_host&gt;:&lt;port&gt;/&lt;index_name&gt;</code></p><p>无请求体</p><blockquote><p>为了保存测试结果，这里不再演示删除操作的结果。</p></blockquote><h2 id="_3-可视化客户端kibana" tabindex="-1"><a class="header-anchor" href="#_3-可视化客户端kibana"><span>3. 可视化客户端Kibana</span></a></h2>`,49)),a("p",null,[s[4]||(s[4]=n("Kibana是和ES协同工作的可视化客户端，首先在")),a("a",d,[s[3]||(s[3]=n("Download Kibana Free | Get Started Now | Elastic")),t(p)]),s[5]||(s[5]=n("下载合适版本的Kibana文件。"))]),s[8]||(s[8]=e(`<p>上传到服务器后解压文件：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">tar</span> <span class="token parameter variable">-xvf</span> kibana-8.15.1-linux-x86_64.tar.gz</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>解压文件后进入其安装目录，修改 <code>config/kibana.yml</code> 配置文件：</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="line"><span class="token comment"># 指定 Kibana 服务监听的端口号</span></span>
<span class="line"><span class="token key atrule">server.port</span><span class="token punctuation">:</span> <span class="token number">5601</span></span>
<span class="line"><span class="token comment"># 指定 Kibana 服务绑定的主机地址</span></span>
<span class="line"><span class="token key atrule">server.host</span><span class="token punctuation">:</span> 0.0.0.0</span>
<span class="line"><span class="token comment"># 指定 Kibana 连接到的 ES 实例的访问地址</span></span>
<span class="line"><span class="token key atrule">elasticsearch.hosts</span><span class="token punctuation">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string">&quot;http://60.205.206.30:9200&quot;</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"><span class="token comment"># 将 Kibana 的界面语言设置为中文</span></span>
<span class="line"><span class="token key atrule">i18n.locale</span><span class="token punctuation">:</span> <span class="token string">&quot;zh-CN&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后后台启动服务：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">nohup</span> bin/kibana <span class="token operator">&gt;</span> logs/kibana.log <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>logs/error.log <span class="token operator">&amp;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>浏览器访问网站，打开左侧边栏中的开发工具，在控制台即可进行与上方postman相同的操作，具体可以查看教程。</p><h2 id="_4-了解es核心概念" tabindex="-1"><a class="header-anchor" href="#_4-了解es核心概念"><span>4 了解ES核心概念</span></a></h2><ul><li>了解搜索引擎的基础知识 <ul><li>什么是全文检索</li><li>什么是倒排索引</li></ul></li><li>了解ES常用术语 <ul><li>什么是索引</li><li>什么是映射</li><li>什么是文档</li></ul></li></ul><h3 id="_4-1-什么是全文检索" tabindex="-1"><a class="header-anchor" href="#_4-1-什么是全文检索"><span>4.1 什么是全文检索</span></a></h3><p>全文检索是一种从大量文本中快速检索出包含指定词汇或短语的信息的技术。</p><h3 id="_4-2-什么是倒排索引" tabindex="-1"><a class="header-anchor" href="#_4-2-什么是倒排索引"><span>4.2 什么是倒排索引</span></a></h3><p>在一个文档集合中，每个文档都可视为一个短语的集合，倒排索引则是将词语映射到包含这个词语的文档的数据结构。</p><p>那么我们如何实现倒排索引呢？</p><ol><li>文档预处理</li><li>构建索引</li><li>创建倒排列表</li><li>存储索引文件</li><li>查询处理</li></ol><h3 id="_4-3-什么是索引-什么是映射-什么是文档" tabindex="-1"><a class="header-anchor" href="#_4-3-什么是索引-什么是映射-什么是文档"><span>4.3 什么是索引？什么是映射？什么是文档？</span></a></h3><p>ES中的索引就类似于MySQL中的表，也就是索引表；映射类似于MySQL中的Schema表结构；文档类似于MySQL表中的一行记录。</p>`,17))])}const b=l(r,[["render",v],["__file","index.html.vue"]]),q=JSON.parse('{"path":"/blogs/ElasticSearch/","title":"ElasticSearch学习笔记","lang":"en-US","frontmatter":{"title":"ElasticSearch学习笔记","categories":["ElasticSearch"]},"headers":[{"level":2,"title":"1. 基本配置","slug":"_1-基本配置","link":"#_1-基本配置","children":[{"level":3,"title":"1.1 创建用户","slug":"_1-1-创建用户","link":"#_1-1-创建用户","children":[]},{"level":3,"title":"1.2 下载ES相关文件","slug":"_1-2-下载es相关文件","link":"#_1-2-下载es相关文件","children":[]},{"level":3,"title":"1.3 配置信息","slug":"_1-3-配置信息","link":"#_1-3-配置信息","children":[]},{"level":3,"title":"1.4 启动ES并测试访问","slug":"_1-4-启动es并测试访问","link":"#_1-4-启动es并测试访问","children":[]},{"level":3,"title":"1.5 浏览器相关插件","slug":"_1-5-浏览器相关插件","link":"#_1-5-浏览器相关插件","children":[]},{"level":3,"title":"1.6 ES相关插件","slug":"_1-6-es相关插件","link":"#_1-6-es相关插件","children":[]}]},{"level":2,"title":"2. 基本操作测试","slug":"_2-基本操作测试","link":"#_2-基本操作测试","children":[{"level":3,"title":"2.1 创建索引","slug":"_2-1-创建索引","link":"#_2-1-创建索引","children":[]},{"level":3,"title":"2.2 创建映射","slug":"_2-2-创建映射","link":"#_2-2-创建映射","children":[]},{"level":3,"title":"2.3 插入文档","slug":"_2-3-插入文档","link":"#_2-3-插入文档","children":[]},{"level":3,"title":"2.4 高亮查询","slug":"_2-4-高亮查询","link":"#_2-4-高亮查询","children":[]},{"level":3,"title":"2.5 删除索引","slug":"_2-5-删除索引","link":"#_2-5-删除索引","children":[]}]},{"level":2,"title":"3. 可视化客户端Kibana","slug":"_3-可视化客户端kibana","link":"#_3-可视化客户端kibana","children":[]},{"level":2,"title":"4 了解ES核心概念","slug":"_4-了解es核心概念","link":"#_4-了解es核心概念","children":[{"level":3,"title":"4.1 什么是全文检索","slug":"_4-1-什么是全文检索","link":"#_4-1-什么是全文检索","children":[]},{"level":3,"title":"4.2 什么是倒排索引","slug":"_4-2-什么是倒排索引","link":"#_4-2-什么是倒排索引","children":[]},{"level":3,"title":"4.3 什么是索引？什么是映射？什么是文档？","slug":"_4-3-什么是索引-什么是映射-什么是文档","link":"#_4-3-什么是索引-什么是映射-什么是文档","children":[]}]}],"git":{"createdTime":1726994140000,"updatedTime":1727794553000,"contributors":[{"name":"gitDebuger","email":"hygchn04@gmail.com","commits":3}]},"filePathRelative":"blogs/ElasticSearch/README.md"}');export{b as comp,q as data};
