<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.14">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <title>Install Neo4j in Ubuntu and Use Gremlin | Yunge Hu 's Blog</title><meta name="description" content="Just playing around">
    <link rel="preload" href="/assets/style-DFiSfBVn.css" as="style"><link rel="stylesheet" href="/assets/style-DFiSfBVn.css">
    <link rel="modulepreload" href="/assets/app-BQWBHBwa.js"><link rel="modulepreload" href="/assets/Install-Neo4j-in-Ubuntu-and-Use-Gremlin.html-DWYjKUV4.js">
    <link rel="prefetch" href="/assets/timeline.html-CqqpsH5d.js" as="script"><link rel="prefetch" href="/assets/posts.html-BDnMFuB8.js" as="script"><link rel="prefetch" href="/assets/friendship-link.html-O0v_6YfU.js" as="script"><link rel="prefetch" href="/assets/1.html-Bbq2ktyH.js" as="script"><link rel="prefetch" href="/assets/1.html-Dx_lgZ3B.js" as="script"><link rel="prefetch" href="/assets/1.html-a8LGXcsR.js" as="script"><link rel="prefetch" href="/assets/1.html-CbRhQ2QI.js" as="script"><link rel="prefetch" href="/assets/1.html-BzID_zaL.js" as="script"><link rel="prefetch" href="/assets/1.html-CG_8FmIf.js" as="script"><link rel="prefetch" href="/assets/2.html-BDi1hI6R.js" as="script"><link rel="prefetch" href="/assets/3.html-IPh1UREh.js" as="script"><link rel="prefetch" href="/assets/index.html-BsVYH3mD.js" as="script"><link rel="prefetch" href="/assets/Neo4j.html-BBIWNAPz.js" as="script"><link rel="prefetch" href="/assets/index.html-e2RImK8J.js" as="script"><link rel="prefetch" href="/assets/README.zh.html-DtXjun5q.js" as="script"><link rel="prefetch" href="/assets/index.html-DxGDuS-1.js" as="script"><link rel="prefetch" href="/assets/suoyincaozuo.html-D7cMnOmQ.js" as="script"><link rel="prefetch" href="/assets/lab0.html-B-P-1f1O.js" as="script"><link rel="prefetch" href="/assets/lab1.html-CFY4vRIr.js" as="script"><link rel="prefetch" href="/assets/lab2.html-CBEOnRLM.js" as="script"><link rel="prefetch" href="/assets/lab3.html-B6rCOKMc.js" as="script"><link rel="prefetch" href="/assets/lab4.html-PcRgQCId.js" as="script"><link rel="prefetch" href="/assets/lab5.html-DEyS24Vv.js" as="script"><link rel="prefetch" href="/assets/lab6.html-DOYCAE0R.js" as="script"><link rel="prefetch" href="/assets/index.html-DHQT3qIb.js" as="script"><link rel="prefetch" href="/assets/Javajibenchengxushejijiegou.html-enmuIUqq.js" as="script"><link rel="prefetch" href="/assets/Javamianxiangduixiangchengxusheji——duixiangyulei.html-DLsY9M3X.js" as="script"><link rel="prefetch" href="/assets/Javamianxiangduixiangchengxusheji——jiekou、lambdabiaodashiyunabulei.html-B136l6gR.js" as="script"><link rel="prefetch" href="/assets/Javamianxiangduixiangchengxusheji——jicheng.html-TVNFPI5e.js" as="script"><link rel="prefetch" href="/assets/bingfa.html-BD53Tiqh.js" as="script"><link rel="prefetch" href="/assets/yichangduanyanherizhi.html-C9XUoODc.js" as="script"><link rel="prefetch" href="/assets/fanxingyujihe.html-DjPmvaI1.js" as="script"><link rel="prefetch" href="/assets/404.html-CdRfpGJ7.js" as="script"><link rel="prefetch" href="/assets/Valine.min-Dm4Ijz6H.js" as="script"><link rel="prefetch" href="/assets/giscus-2a044aea-CdPDkb7_.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container series--no show-catalog"><header class="navbar-container not-open"><div class="navbar-inner"><div class="site-brand nav-item"><img class="logo" src="/logo.png" alt="Yunge Hu &#39;s Blog"><a href="/" class="site-name can-hide">Yunge Hu &#39;s Blog</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><a href="/" class="link router-link-active" aria-label="Home"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Home<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a class="link" href="https://github.com/gitDebuger/gitdebuger.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->GitHub<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><span class="xicon-container btn-toggle-dark-mode btn--dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></div></header><!----><!----><!----><!--[--><main class="page-container"><aside class="series-container"><!--[--><!--]--></aside><div class="page-content"><h1 class="page-title">Install Neo4j in Ubuntu and Use Gremlin</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Yunge Hu<!--]--></span></span><!----><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[--><!--[--><a href="/categories/ArkAnalyzer/1.html" class="">ArkAnalyzer</a><!--]--><!--]--></span></span><!----><!----></div><div class="theme-reco-md-content"><div><h1 id="install-neo4j-in-ubuntu-and-use-gremlin" tabindex="-1"><a class="header-anchor" href="#install-neo4j-in-ubuntu-and-use-gremlin"><span>Install Neo4j in Ubuntu and Use Gremlin</span></a></h1><h2 id="_1-reason-why-installing-neo4j-in-ubuntu" tabindex="-1"><a class="header-anchor" href="#_1-reason-why-installing-neo4j-in-ubuntu"><span>1. Reason why installing Neo4j in Ubuntu</span></a></h2><p>In previous article, we say that we will use Gremlin to Access Neo4j.</p><p>However, there is a problem, that Gremlin cannot support Neo4j whose version is too high, while Neo4j Desktop in Windows can only install Neo4j database whose lowest version is <code>4.1.0</code> .</p><p>So, we will install Neo4j in Ubuntu. Of course, we can install Neo4j of any version from <a href="https://github.com/neo4j/neo4j" target="_blank" rel="noopener noreferrer">GitHub<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, but it is more easy to use <code>apt</code> to install it.</p><h2 id="_2-install-neo4j-in-ubuntu" tabindex="-1"><a class="header-anchor" href="#_2-install-neo4j-in-ubuntu"><span>2. Install Neo4j in Ubuntu</span></a></h2><p>We will use Neo4j whose version is <code>3.3.9</code> .</p><p>==All things following will be done by <code>root</code> credential!!!==</p><h3 id="_2-1-install-jdk-1-8" tabindex="-1"><a class="header-anchor" href="#_2-1-install-jdk-1-8"><span>2.1 Install JDK-1.8</span></a></h3><p>Neo4j <code>3.3.9</code> only support JDK-1.8, but we use JDK-17 or higher now, so we need install JDK-1.8 before installing Neo4j.</p><p>JDK-1.8 is too old and it is only used to run Neo4j, so we need to manage JDK versions in our computer.</p><p>We will use <a href="https://github.com/jenv/jenv" target="_blank" rel="noopener noreferrer">JENV<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> to do this.</p><p>First we clone this repository:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">git</span> clone https://github.com/jenv/jenv.git ~/.jenv</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Then add <code>jenv</code> to <code>PATH</code> environment:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token comment"># ~/.bashrc</span></span>
<span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">&quot;<span class="token environment constant">$HOME</span>/.jenv/bin:<span class="token environment constant">$PATH</span>&quot;</span></span>
<span class="line"><span class="token builtin class-name">eval</span> <span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span>jenv init -<span class="token variable">)</span></span>&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Finally, we restart terminal or use a new terminal or run command following:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token builtin class-name">source</span> ~/.bashrc</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>We can use command following to check whether it has been installed correctly:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">jenv <span class="token parameter variable">--version</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>After that, we can install JDK-1.8:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> openjdk-8-jdk <span class="token comment"># JDK-1.8</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Then add JDKs in our computer to <code>jenv</code> :</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token comment"># JDK installed by `apt` is commonly here</span></span>
<span class="line">jenv <span class="token function">add</span> /usr/lib/jvm/java-8-openjdk-amd64</span>
<span class="line"><span class="token comment"># And other JDKs...</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>After adding them, we can run command following to view them:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">jenv versions</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>But Neo4j uses environment variable <code>JAVA_HOME</code> to find where JDK is, we need to enable plugin <code>export</code> in <code>jenv</code> to automatically manage it. Run command following:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">jenv enable-plugin <span class="token builtin class-name">export</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>This plugin can automatically set <code>JAVA_HOME</code> according to the version of JDK chosen by us.</p><p>The usage of <code>jenv</code> is as follows:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token comment"># View Java version added</span></span>
<span class="line">jenv versions</span>
<span class="line"><span class="token comment"># Add new Java version to `jenv`</span></span>
<span class="line">jenv <span class="token function">add</span> <span class="token operator">&lt;</span>java-path<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># Set global Java version</span></span>
<span class="line">jenv global <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># Set Java version used in current directory or project</span></span>
<span class="line">jenv <span class="token builtin class-name">local</span> <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># Set Java version used in current shell</span></span>
<span class="line">jenv shell <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Finally, we change to JDK-1.8 to do following things:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">jenv global <span class="token number">1.8</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_2-2-install-neo4j" tabindex="-1"><a class="header-anchor" href="#_2-2-install-neo4j"><span>2.2 Install Neo4j</span></a></h3><p>Run commands following:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">wget</span> <span class="token parameter variable">-O</span> - https://debian.neo4j.com/neotechnology.gpg.key <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -</span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;deb https://debian.neo4j.com stable legacy&#39;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/neo4j.list</span>
<span class="line"><span class="token function">apt</span> update</span>
<span class="line"><span class="token function">apt</span> list <span class="token parameter variable">-a</span> neo4j</span>
<span class="line"><span class="token function">apt</span> <span class="token function">install</span> <span class="token assign-left variable">neo4j</span><span class="token operator">=</span><span class="token number">1</span>:3.3.9</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We can use command following to check whether it can run:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">neo4j start</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Then we can see information following if successful:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">Active database: graph.db</span>
<span class="line">Directories in use:</span>
<span class="line">  home:         /var/lib/neo4j</span>
<span class="line">  config:       /etc/neo4j</span>
<span class="line">  logs:         /var/log/neo4j</span>
<span class="line">  plugins:      /var/lib/neo4j/plugins</span>
<span class="line">  import:       /var/lib/neo4j/import</span>
<span class="line">  data:         /var/lib/neo4j/data</span>
<span class="line">  certificates: /var/lib/neo4j/certificates</span>
<span class="line">  run:          /var/run/neo4j</span>
<span class="line">Starting Neo4j.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>It will run at <code>7474</code> port and we can visit it from our browser. We can run command to check the status of Neo4j:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">neo4j status</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>If we want to connect it from other computer, we can change its configuration:</p><div class="language-properties line-numbers-mode" data-highlighter="prismjs" data-ext="properties" data-title="properties"><pre class="language-properties"><code><span class="line"><span class="token key attr-name">dbms.connectors.default_listen_address</span><span class="token punctuation">=</span><span class="token value attr-value">0.0.0.0</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Then restart Neo4j:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">neo4j restart</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_3-install-gremlin-and-connect" tabindex="-1"><a class="header-anchor" href="#_3-install-gremlin-and-connect"><span>3. Install Gremlin and Connect</span></a></h2><p>==Gremlin can support many versions of JDK, so we can discard JDK-1.8 now!!!==</p><h3 id="_3-1-install-gremlin" tabindex="-1"><a class="header-anchor" href="#_3-1-install-gremlin"><span>3.1 Install Gremlin</span></a></h3><p>Download from this web page: <a href="https://tinkerpop.apache.org/download.html" target="_blank" rel="noopener noreferrer">Apache TinkerPop<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><p>Or download with <code>wget</code> command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">wget</span> https://www.apache.org/dyn/closer.lua/tinkerpop/3.7.2/apache-tinkerpop-gremlin-server-3.7.2-bin.zip</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Then unzip it.</p><p>Change to this directory and change its configuration:</p><p>File <code>conf/gremlin-server-neo4j.yaml</code> :</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="line"><span class="token comment"># Allow all address to connect</span></span>
<span class="line"><span class="token key atrule">host</span><span class="token punctuation">:</span> 0.0.0.0</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>File <code>neo4j-empty.properties</code> :</p><div class="language-properties line-numbers-mode" data-highlighter="prismjs" data-ext="properties" data-title="properties"><pre class="language-properties"><code><span class="line"><span class="token key attr-name">gremlin.neo4j.directory</span><span class="token punctuation">=</span><span class="token value attr-value">/var/lib/neo4j/data/databases/graph.db</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Before running Gremlin, we need to install some dependencies:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token comment"># version of dependencies is according to the version of gremlin</span></span>
<span class="line">bin/gremlin-server.sh <span class="token function">install</span> org.apache.tinkerpop neo4j-gremlin <span class="token number">3.7</span>.2</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>In addition, we need to stop Neo4j server, because they two cannot run in the same time:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">neo4j stop</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Then we run command following to check whether Gremlin server can run successfully:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">bin/gremlin-server.sh conf/gremlin-server-neo4j.yaml</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>If it can run successfully, stop it and change file <code>bin/gremlin-server.sh</code> :</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token comment"># Other codes</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token string">&quot;<span class="token variable">$GREMLIN_YAML</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span></span>
<span class="line"></span>
<span class="line">  <span class="token assign-left variable">GREMLIN_YAML</span><span class="token operator">=</span><span class="token variable">$GREMLIN_HOME</span>/conf/gremlin-server-neo4j.yaml</span>
<span class="line"></span>
<span class="line"><span class="token keyword">fi</span></span>
<span class="line"><span class="token comment"># Other codes</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Then start Gremlin server:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">bin/gremlin-server.sh start</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Now Gremlin server is running in the background.</p><h3 id="_3-2-connect-to-gremlin-server-with-gremlin-console" tabindex="-1"><a class="header-anchor" href="#_3-2-connect-to-gremlin-server-with-gremlin-console"><span>3.2 Connect to Gremlin Server with Gremlin Console</span></a></h3><p>We can use Gremlin console to connect to Gremlin server.</p><p>Download from this web page: <a href="https://tinkerpop.apache.org/download.html" target="_blank" rel="noopener noreferrer">Apache TinkerPop<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><p>Or download with <code>wget</code> command:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">wget</span> https://www.apache.org/dyn/closer.lua/tinkerpop/3.7.2/apache-tinkerpop-gremlin-console-3.7.2-bin.zip</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Then unzip it and change to this directory.</p><p>Make file <code>remote.yaml</code> consistent with where Gremlin server is running or add a new file:</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="line"><span class="token key atrule">hosts</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>localhost<span class="token punctuation">]</span></span>
<span class="line"><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8182</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Then run Gremlin console:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">bin/gremlin.sh</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>If successful, we can see information following:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">Oct 12, 2024 8:07:13 PM java.util.prefs.FileSystemPreferences$1 run</span>
<span class="line">INFO: Created user preferences directory.</span>
<span class="line"></span>
<span class="line">         \,,,/</span>
<span class="line">         (o o)</span>
<span class="line">-----oOOo-(3)-oOOo-----</span>
<span class="line">plugin activated: tinkerpop.server</span>
<span class="line">plugin activated: tinkerpop.utilities</span>
<span class="line">plugin activated: tinkerpop.tinkergraph</span>
<span class="line">gremlin&gt;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Then run command to connect to Gremlin server:</p><div class="language-gremlin line-numbers-mode" data-highlighter="prismjs" data-ext="gremlin" data-title="gremlin"><pre class="language-gremlin"><code><span class="line">:remote connect tinkerpop.server conf/remote.yaml</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>If successful, we can run command following to change to remote mode:</p><div class="language-gremlin line-numbers-mode" data-highlighter="prismjs" data-ext="gremlin" data-title="gremlin"><pre class="language-gremlin"><code><span class="line">:remote console</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_3-3-connect-to-gremlin-server-in-wsl-from-windows" tabindex="-1"><a class="header-anchor" href="#_3-3-connect-to-gremlin-server-in-wsl-from-windows"><span>3.3 Connect to Gremlin Server in WSL from Windows</span></a></h3><p>First we need to find the IP of WSL.</p><p>If <code>localhost</code> of WSL is the same as that of Windows, just use <code>localhost</code> is OK.</p><p>Or, we can run command in WSL to get it:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">ip</span> addr show eth0</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>We can see output like this:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000</span>
<span class="line">    link/ether 00:15:5d:c7:ff:e6 brd ff:ff:ff:ff:ff:ff</span>
<span class="line">    inet 172.18.50.12/20 brd 172.18.63.255 scope global eth0</span>
<span class="line">       valid_lft forever preferred_lft forever</span>
<span class="line">    inet6 fe80::215:5dff:fec7:ffe6/64 scope link</span>
<span class="line">       valid_lft forever preferred_lft forever</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The output indicates that <code>172.18.50.12</code> is the IP of WSL.</p><p>Then we can connect to the Gremlin server running in WSL from Windows.</p><p>Just like the previous subsection, download and unzip file, and change configuration file. Then run the console:</p><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre class="language-powershell"><code><span class="line"><span class="token punctuation">.</span>\bin\gremlin<span class="token punctuation">.</span>bat</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Other things is the same as those in Ubuntu.</p><h2 id="_4-problem" tabindex="-1"><a class="header-anchor" href="#_4-problem"><span>4. Problem</span></a></h2><p>Neo4j and Gremlin server cannot run at the same time, just say that we cannot use Neo4j to view the graph in a visual way.</p><p>How can we resolve this problem? Just look at the next article!</p></div></div><footer class="page-meta"><div class="meta-item edit-link"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M2 26h28v2H2z" fill="currentColor"></path><path d="M25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10l3.6 3.6l-10 10H6z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Edit this page<!--]--></span></span></div><!----></footer><!----><!----></div><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/ArkAnalyzer/Install-Neo4j-in-Ubuntu-and-Use-Gremlin.html#_1-reason-why-installing-neo4j-in-ubuntu" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="1. Reason why installing Neo4j in Ubuntu"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->1. Reason why installing Neo4j in Ubuntu<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/ArkAnalyzer/Install-Neo4j-in-Ubuntu-and-Use-Gremlin.html#_2-install-neo4j-in-ubuntu" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="2. Install Neo4j in Ubuntu"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2. Install Neo4j in Ubuntu<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/ArkAnalyzer/Install-Neo4j-in-Ubuntu-and-Use-Gremlin.html#_2-1-install-jdk-1-8" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="2.1 Install JDK-1.8"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2.1 Install JDK-1.8<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/ArkAnalyzer/Install-Neo4j-in-Ubuntu-and-Use-Gremlin.html#_2-2-install-neo4j" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="2.2 Install Neo4j"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2.2 Install Neo4j<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/ArkAnalyzer/Install-Neo4j-in-Ubuntu-and-Use-Gremlin.html#_3-install-gremlin-and-connect" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="3. Install Gremlin and Connect"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->3. Install Gremlin and Connect<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/ArkAnalyzer/Install-Neo4j-in-Ubuntu-and-Use-Gremlin.html#_3-1-install-gremlin" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="3.1 Install Gremlin"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->3.1 Install Gremlin<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/ArkAnalyzer/Install-Neo4j-in-Ubuntu-and-Use-Gremlin.html#_3-2-connect-to-gremlin-server-with-gremlin-console" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="3.2 Connect to Gremlin Server with Gremlin Console"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->3.2 Connect to Gremlin Server with Gremlin Console<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/ArkAnalyzer/Install-Neo4j-in-Ubuntu-and-Use-Gremlin.html#_3-3-connect-to-gremlin-server-in-wsl-from-windows" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="3.3 Connect to Gremlin Server in WSL from Windows"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->3.3 Connect to Gremlin Server in WSL from Windows<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/ArkAnalyzer/Install-Neo4j-in-Ubuntu-and-Use-Gremlin.html#_4-problem" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="4. Problem"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->4. Problem<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--></ul></div></main><!--]--></div><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-BQWBHBwa.js" defer></script>
  </body>
</html>
